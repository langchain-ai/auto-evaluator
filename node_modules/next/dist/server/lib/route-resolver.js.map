{"version":3,"sources":["../../../src/server/lib/route-resolver.ts"],"names":["makeResolver","DevRouteMatcherManager","DefaultRouteMatcherManager","constructor","hasPage","match","pathname","definition","kind","RouteKind","PAGES","page","filename","bundlePath","params","test","dir","nextConfig","middleware","url","require","default","Router","getPathMatch","DevServer","NodeNextRequest","NodeNextResponse","loadCustomRoutes","devServer","conf","hostname","port","matchers","reload","customRoutes","files","length","matcher","getMiddlewareMatchers","regexp","originalSource","getMiddlewareRouteMatcher","getEdgeFunctionInfo","original","name","paths","map","file","join","process","cwd","env","wasm","assets","bind","hasMiddleware","routeResults","WeakMap","routes","generateRoutes","catchAllMiddleware","generateCatchAllMiddlewareRoute","router","catchAllRoute","fn","req","_res","_params","parsedUrl","key","Object","keys","query","startsWith","set","format","hash","finished","compiledRoutes","filter","route","matches","type","includes","resolveRoute","_req","res","parse","attachRequestMeta","_initUrl","execute","originalResponse","headersSent","setHeader","resolvedUrl","get","delete","routeResult","statusCode","headers","getHeaders","body","JSON","stringify","send"],"mappings":"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"}