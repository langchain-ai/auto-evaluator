{"version":3,"sources":["../../../src/server/lib/route-resolver.ts"],"names":["RouteKind","DefaultRouteMatcherManager","getMiddlewareMatchers","getMiddlewareRouteMatcher","join","DevRouteMatcherManager","constructor","hasPage","match","pathname","definition","kind","PAGES","page","filename","bundlePath","params","test","makeResolver","dir","nextConfig","middleware","url","require","default","Router","getPathMatch","DevServer","NodeNextRequest","NodeNextResponse","loadCustomRoutes","devServer","conf","hostname","port","matchers","reload","customRoutes","files","length","matcher","regexp","originalSource","getEdgeFunctionInfo","original","name","paths","map","file","process","cwd","env","wasm","assets","bind","hasMiddleware","routeResults","WeakMap","routes","generateRoutes","catchAllMiddleware","generateCatchAllMiddlewareRoute","router","catchAllRoute","fn","req","_res","_params","parsedUrl","key","Object","keys","query","startsWith","set","format","hash","finished","compiledRoutes","filter","route","matches","type","includes","resolveRoute","_req","res","parse","attachRequestMeta","_initUrl","execute","originalResponse","headersSent","setHeader","resolvedUrl","get","delete","routeResult","statusCode","headers","getHeaders","body","JSON","stringify","send"],"mappings":"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"}