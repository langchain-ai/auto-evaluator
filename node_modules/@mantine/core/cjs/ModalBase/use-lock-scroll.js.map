{"version":3,"file":"use-lock-scroll.js","sources":["../../src/ModalBase/use-lock-scroll.ts"],"sourcesContent":["import { useState, useEffect, useRef } from 'react';\nimport { useReducedMotion } from '@mantine/hooks';\n\ninterface UseScrollLock {\n  opened: boolean;\n  transitionDuration: number;\n}\n\nexport function useLockScroll({ opened, transitionDuration }: UseScrollLock) {\n  const [shouldLockScroll, setShouldLockScroll] = useState(opened);\n  const timeout = useRef<number>();\n  const reduceMotion = useReducedMotion();\n  const _transitionDuration = reduceMotion ? 0 : transitionDuration;\n\n  useEffect(() => {\n    if (opened) {\n      setShouldLockScroll(true);\n      window.clearTimeout(timeout.current);\n    } else if (_transitionDuration === 0) {\n      setShouldLockScroll(false);\n    } else {\n      timeout.current = window.setTimeout(() => setShouldLockScroll(false), _transitionDuration);\n    }\n\n    return () => window.clearTimeout(timeout.current);\n  }, [opened, _transitionDuration]);\n\n  return shouldLockScroll;\n}\n"],"names":["useState","useRef","useReducedMotion","useEffect"],"mappings":";;;;;;;AAEO,SAAS,aAAa,CAAC,EAAE,MAAM,EAAE,kBAAkB,EAAE,EAAE;AAC9D,EAAE,MAAM,CAAC,gBAAgB,EAAE,mBAAmB,CAAC,GAAGA,cAAQ,CAAC,MAAM,CAAC,CAAC;AACnE,EAAE,MAAM,OAAO,GAAGC,YAAM,EAAE,CAAC;AAC3B,EAAE,MAAM,YAAY,GAAGC,sBAAgB,EAAE,CAAC;AAC1C,EAAE,MAAM,mBAAmB,GAAG,YAAY,GAAG,CAAC,GAAG,kBAAkB,CAAC;AACpE,EAAEC,eAAS,CAAC,MAAM;AAClB,IAAI,IAAI,MAAM,EAAE;AAChB,MAAM,mBAAmB,CAAC,IAAI,CAAC,CAAC;AAChC,MAAM,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;AAC3C,KAAK,MAAM,IAAI,mBAAmB,KAAK,CAAC,EAAE;AAC1C,MAAM,mBAAmB,CAAC,KAAK,CAAC,CAAC;AACjC,KAAK,MAAM;AACX,MAAM,OAAO,CAAC,OAAO,GAAG,MAAM,CAAC,UAAU,CAAC,MAAM,mBAAmB,CAAC,KAAK,CAAC,EAAE,mBAAmB,CAAC,CAAC;AACjG,KAAK;AACL,IAAI,OAAO,MAAM,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;AACtD,GAAG,EAAE,CAAC,MAAM,EAAE,mBAAmB,CAAC,CAAC,CAAC;AACpC,EAAE,OAAO,gBAAgB,CAAC;AAC1B;;;;"}