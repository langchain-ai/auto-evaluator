{"version":3,"file":"filter-data.js","sources":["../../../src/Select/filter-data/filter-data.ts"],"sourcesContent":["import type { SelectItem } from '../types';\n\ninterface FilterData {\n  data: SelectItem[];\n  limit: number;\n  searchable: boolean;\n  searchValue: string;\n  filterDataOnExactSearchMatch: boolean;\n  value: string;\n  filter(value: string, item: SelectItem): boolean;\n}\n\nexport function filterData({\n  data,\n  searchable,\n  limit,\n  searchValue,\n  filter,\n  value,\n  filterDataOnExactSearchMatch,\n}: FilterData) {\n  if (!searchable) {\n    return data;\n  }\n\n  const selected = value != null ? data.find((item) => item.value === value) || null : null;\n\n  if (selected && !filterDataOnExactSearchMatch && selected?.label === searchValue) {\n    if (limit) {\n      if (limit >= data.length) {\n        return data;\n      }\n      const firstIndex = data.indexOf(selected);\n      const lastIndex = firstIndex + limit;\n      const firstIndexOffset = lastIndex - data.length;\n      if (firstIndexOffset > 0) {\n        return data.slice(firstIndex - firstIndexOffset);\n      }\n      return data.slice(firstIndex, lastIndex);\n    }\n    return data;\n  }\n\n  const result = [];\n\n  for (let i = 0; i < data.length; i += 1) {\n    if (filter(searchValue, data[i])) {\n      result.push(data[i]);\n    }\n\n    if (result.length >= limit) {\n      break;\n    }\n  }\n\n  return result;\n}\n"],"names":[],"mappings":";;;;AAAO,SAAS,UAAU,CAAC;AAC3B,EAAE,IAAI;AACN,EAAE,UAAU;AACZ,EAAE,KAAK;AACP,EAAE,WAAW;AACb,EAAE,MAAM;AACR,EAAE,KAAK;AACP,EAAE,4BAA4B;AAC9B,CAAC,EAAE;AACH,EAAE,IAAI,CAAC,UAAU,EAAE;AACnB,IAAI,OAAO,IAAI,CAAC;AAChB,GAAG;AACH,EAAE,MAAM,QAAQ,GAAG,KAAK,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,KAAK,KAAK,KAAK,CAAC,IAAI,IAAI,GAAG,IAAI,CAAC;AAC5F,EAAE,IAAI,QAAQ,IAAI,CAAC,4BAA4B,IAAI,CAAC,QAAQ,IAAI,IAAI,GAAG,KAAK,CAAC,GAAG,QAAQ,CAAC,KAAK,MAAM,WAAW,EAAE;AACjH,IAAI,IAAI,KAAK,EAAE;AACf,MAAM,IAAI,KAAK,IAAI,IAAI,CAAC,MAAM,EAAE;AAChC,QAAQ,OAAO,IAAI,CAAC;AACpB,OAAO;AACP,MAAM,MAAM,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;AAChD,MAAM,MAAM,SAAS,GAAG,UAAU,GAAG,KAAK,CAAC;AAC3C,MAAM,MAAM,gBAAgB,GAAG,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC;AACvD,MAAM,IAAI,gBAAgB,GAAG,CAAC,EAAE;AAChC,QAAQ,OAAO,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,gBAAgB,CAAC,CAAC;AACzD,OAAO;AACP,MAAM,OAAO,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,SAAS,CAAC,CAAC;AAC/C,KAAK;AACL,IAAI,OAAO,IAAI,CAAC;AAChB,GAAG;AACH,EAAE,MAAM,MAAM,GAAG,EAAE,CAAC;AACpB,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;AAC3C,IAAI,IAAI,MAAM,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE;AACtC,MAAM,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;AAC3B,KAAK;AACL,IAAI,IAAI,MAAM,CAAC,MAAM,IAAI,KAAK,EAAE;AAChC,MAAM,MAAM;AACZ,KAAK;AACL,GAAG;AACH,EAAE,OAAO,MAAM,CAAC;AAChB;;;;"}