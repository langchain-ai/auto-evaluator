{"version":3,"file":"get-responsive-value.js","sources":["../../../../src/Box/style-system-props/get-responsive-value/get-responsive-value.ts"],"sourcesContent":["import { MantineTheme, CSSObject, getSize, getBreakpointValue } from '@mantine/styles';\n\nfunction getSortedKeys(value: Record<string, any>, theme: MantineTheme) {\n  const sorted = Object.keys(value)\n    .filter((breakpoint) => breakpoint !== 'base')\n    .sort(\n      (a, b) =>\n        getBreakpointValue(getSize({ size: a, sizes: theme.breakpoints })) -\n        getBreakpointValue(getSize({ size: b, sizes: theme.breakpoints }))\n    );\n  return 'base' in value ? ['base', ...sorted] : sorted;\n}\n\nexport type StyleProperty = string | string[];\n\ninterface GetResponsiveStyles {\n  value: any;\n  theme: MantineTheme;\n  getValue: (value: any, theme: MantineTheme) => any;\n  property: StyleProperty;\n}\n\nexport function getResponsiveValue({ value, theme, getValue, property }: GetResponsiveStyles) {\n  if (value == null) {\n    return undefined;\n  }\n\n  if (typeof value === 'object') {\n    const result = getSortedKeys(value, theme).reduce<CSSObject>((acc, breakpointKey) => {\n      if (breakpointKey === 'base' && value.base !== undefined) {\n        const baseValue = getValue(value.base, theme);\n\n        if (Array.isArray(property)) {\n          property.forEach((prop) => {\n            acc[prop] = baseValue;\n          });\n          return acc;\n        }\n\n        acc[property] = baseValue;\n        return acc;\n      }\n\n      const breakpointValue = getValue(value[breakpointKey], theme);\n\n      if (Array.isArray(property)) {\n        acc[theme.fn.largerThan(breakpointKey)] = {};\n        property.forEach((prop) => {\n          acc[theme.fn.largerThan(breakpointKey)][prop] = breakpointValue;\n        });\n\n        return acc;\n      }\n\n      acc[theme.fn.largerThan(breakpointKey)] = {\n        [property]: breakpointValue,\n      };\n\n      return acc;\n    }, {});\n\n    return result;\n  }\n\n  const cssValue = getValue(value, theme);\n\n  if (Array.isArray(property)) {\n    return property.reduce((acc, prop) => {\n      acc[prop] = cssValue;\n      return acc;\n    }, {});\n  }\n\n  return { [property]: cssValue };\n}\n"],"names":[],"mappings":"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"}