{"version":3,"file":"AccordionProvider.js","sources":["../../src/Accordion/AccordionProvider.tsx"],"sourcesContent":["import React from 'react';\nimport { getSafeId } from '@mantine/utils';\nimport { useUncontrolled, useId } from '@mantine/hooks';\nimport { MantineNumberSize, ClassNames, Styles } from '@mantine/styles';\nimport { AccordionContextProvider } from './Accordion.context';\nimport {\n  AccordionValue,\n  AccordionChevronPosition,\n  AccordionHeadingOrder,\n  AccordionVariant,\n} from './Accordion.types';\nimport { ACCORDION_ERRORS } from './Accordion.errors';\nimport type { AccordionStylesNames } from './Accordion';\n\nexport interface AccordionProviderProps<Multiple extends boolean = false> {\n  /** Base id, used to generate ids that connect labels with controls, by default generated randomly */\n  id?: string;\n\n  /** Determines whether arrow key presses should loop though items (first to last and last to first) */\n  loop?: boolean;\n\n  /** Accordion content */\n  children: React.ReactNode;\n\n  /** Determines whether multiple items can be opened at a time */\n  multiple?: Multiple;\n\n  /** Value for controlled component */\n  value?: AccordionValue<Multiple>;\n\n  /** Default value for uncontrolled component */\n  defaultValue?: AccordionValue<Multiple>;\n\n  /** Callback for controlled component */\n  onChange?(value: AccordionValue<Multiple>): void;\n\n  /** Transition duration in ms, set 0 to disable transitions */\n  transitionDuration?: number;\n\n  /** Determines whether chevron rotation should be disabled */\n  disableChevronRotation?: boolean;\n\n  /** Determines position of the chevron */\n  chevronPosition?: AccordionChevronPosition;\n\n  /** Chevron size */\n  chevronSize?: number | string;\n\n  /** Heading order, has no effect on visuals */\n  order?: AccordionHeadingOrder;\n\n  /** Replaces chevron on all items */\n  chevron?: React.ReactNode;\n\n  /** Controls visuals */\n  variant?: AccordionVariant;\n\n  /** Key of theme.radius or any valid CSS value to set border-radius, ignored when variant=\"default\" */\n  radius?: MantineNumberSize;\n}\n\ninterface _AccordionProviderProps<Multiple extends boolean = false>\n  extends AccordionProviderProps<Multiple> {\n  classNames?: ClassNames<AccordionStylesNames>;\n  styles?: Styles<AccordionStylesNames>;\n  unstyled?: boolean;\n}\n\nexport function AccordionProvider<Multiple extends boolean = false>({\n  children,\n  multiple,\n  value,\n  defaultValue,\n  onChange,\n  id,\n  loop,\n  transitionDuration,\n  disableChevronRotation,\n  chevronPosition,\n  chevronSize,\n  order,\n  chevron,\n  variant,\n  radius,\n  classNames,\n  styles,\n  unstyled,\n}: _AccordionProviderProps<Multiple>) {\n  const uid = useId(id);\n  const [_value, handleChange] = useUncontrolled({\n    value,\n    defaultValue,\n    finalValue: multiple ? ([] as any) : null,\n    onChange,\n  });\n\n  const isItemActive = (itemValue: string) =>\n    Array.isArray(_value) ? _value.includes(itemValue) : itemValue === _value;\n\n  const handleItemChange = (itemValue: string) => {\n    const nextValue: AccordionValue<Multiple> = Array.isArray(_value)\n      ? _value.includes(itemValue)\n        ? _value.filter((selectedValue) => selectedValue !== itemValue)\n        : [..._value, itemValue]\n      : itemValue === _value\n      ? null\n      : (itemValue as any);\n\n    handleChange(nextValue);\n  };\n\n  return (\n    <AccordionContextProvider\n      value={{\n        isItemActive,\n        onChange: handleItemChange,\n        getControlId: getSafeId(`${uid}-control`, ACCORDION_ERRORS.value),\n        getRegionId: getSafeId(`${uid}-panel`, ACCORDION_ERRORS.value),\n        transitionDuration,\n        disableChevronRotation,\n        chevronPosition,\n        chevronSize,\n        order,\n        chevron,\n        loop,\n        variant,\n        radius,\n        classNames,\n        styles,\n        unstyled,\n      }}\n    >\n      {children}\n    </AccordionContextProvider>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAKO,SAAS,iBAAiB,CAAC;AAClC,EAAE,QAAQ;AACV,EAAE,QAAQ;AACV,EAAE,KAAK;AACP,EAAE,YAAY;AACd,EAAE,QAAQ;AACV,EAAE,EAAE;AACJ,EAAE,IAAI;AACN,EAAE,kBAAkB;AACpB,EAAE,sBAAsB;AACxB,EAAE,eAAe;AACjB,EAAE,WAAW;AACb,EAAE,KAAK;AACP,EAAE,OAAO;AACT,EAAE,OAAO;AACT,EAAE,MAAM;AACR,EAAE,UAAU;AACZ,EAAE,MAAM;AACR,EAAE,QAAQ;AACV,CAAC,EAAE;AACH,EAAE,MAAM,GAAG,GAAG,KAAK,CAAC,EAAE,CAAC,CAAC;AACxB,EAAE,MAAM,CAAC,MAAM,EAAE,YAAY,CAAC,GAAG,eAAe,CAAC;AACjD,IAAI,KAAK;AACT,IAAI,YAAY;AAChB,IAAI,UAAU,EAAE,QAAQ,GAAG,EAAE,GAAG,IAAI;AACpC,IAAI,QAAQ;AACZ,GAAG,CAAC,CAAC;AACL,EAAE,MAAM,YAAY,GAAG,CAAC,SAAS,KAAK,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,MAAM,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,SAAS,KAAK,MAAM,CAAC;AAChH,EAAE,MAAM,gBAAgB,GAAG,CAAC,SAAS,KAAK;AAC1C,IAAI,MAAM,SAAS,GAAG,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,MAAM,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,aAAa,KAAK,aAAa,KAAK,SAAS,CAAC,GAAG,CAAC,GAAG,MAAM,EAAE,SAAS,CAAC,GAAG,SAAS,KAAK,MAAM,GAAG,IAAI,GAAG,SAAS,CAAC;AAC5M,IAAI,YAAY,CAAC,SAAS,CAAC,CAAC;AAC5B,GAAG,CAAC;AACJ,EAAE,uBAAuB,KAAK,CAAC,aAAa,CAAC,wBAAwB,EAAE;AACvE,IAAI,KAAK,EAAE;AACX,MAAM,YAAY;AAClB,MAAM,QAAQ,EAAE,gBAAgB;AAChC,MAAM,YAAY,EAAE,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,QAAQ,CAAC,EAAE,gBAAgB,CAAC,KAAK,CAAC;AACvE,MAAM,WAAW,EAAE,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,MAAM,CAAC,EAAE,gBAAgB,CAAC,KAAK,CAAC;AACpE,MAAM,kBAAkB;AACxB,MAAM,sBAAsB;AAC5B,MAAM,eAAe;AACrB,MAAM,WAAW;AACjB,MAAM,KAAK;AACX,MAAM,OAAO;AACb,MAAM,IAAI;AACV,MAAM,OAAO;AACb,MAAM,MAAM;AACZ,MAAM,UAAU;AAChB,MAAM,MAAM;AACZ,MAAM,QAAQ;AACd,KAAK;AACL,GAAG,EAAE,QAAQ,CAAC,CAAC;AACf;;;;"}