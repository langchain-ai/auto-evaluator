{"version":3,"file":"MantineProvider.js","sources":["../../src/theme/MantineProvider.tsx"],"sourcesContent":["import React, { createContext, useContext } from 'react';\nimport type { EmotionCache } from '@emotion/cache';\nimport { ThemeProvider, Global } from '@emotion/react';\nimport { DEFAULT_THEME } from './default-theme';\nimport { GlobalStyles } from './GlobalStyles';\nimport { MantineCssVariables } from './MantineCssVariables';\nimport type { MantineThemeOverride, MantineTheme } from './types';\nimport { mergeThemeWithFunctions } from './utils/merge-theme/merge-theme';\nimport { filterProps } from './utils/filter-props/filter-props';\nimport { NormalizeCSS } from './NormalizeCSS';\n\ninterface MantineProviderContextType {\n  theme: MantineTheme;\n  emotionCache?: EmotionCache;\n}\n\nconst MantineProviderContext = createContext<MantineProviderContextType>({\n  theme: DEFAULT_THEME,\n});\n\nexport function useMantineTheme() {\n  return useContext(MantineProviderContext)?.theme || DEFAULT_THEME;\n}\n\nexport function useMantineProviderStyles(component: string | string[]) {\n  const theme = useMantineTheme();\n\n  const getStyles = (name: string) => ({\n    styles: theme.components[name]?.styles || {},\n    classNames: theme.components[name]?.classNames || {},\n    variants: theme.components[name]?.variants,\n    sizes: theme.components[name]?.sizes,\n  });\n\n  if (Array.isArray(component)) {\n    return component.map(getStyles);\n  }\n\n  return [getStyles(component)];\n}\n\nexport function useMantineEmotionCache() {\n  return useContext(MantineProviderContext)?.emotionCache;\n}\n\nexport function useComponentDefaultProps<T extends Record<string, any>, U extends Partial<T> = {}>(\n  component: string,\n  defaultProps: U,\n  props: T\n): T & {\n  [Key in Extract<keyof T, keyof U>]-?: U[Key] | NonNullable<T[Key]>;\n} {\n  const theme = useMantineTheme();\n  const contextPropsPayload = theme.components[component]?.defaultProps;\n  const contextProps =\n    typeof contextPropsPayload === 'function' ? contextPropsPayload(theme) : contextPropsPayload;\n\n  return { ...defaultProps, ...contextProps, ...filterProps(props) };\n}\n\nexport interface MantineProviderProps {\n  theme?: MantineThemeOverride;\n  emotionCache?: EmotionCache;\n  withNormalizeCSS?: boolean;\n  withGlobalStyles?: boolean;\n  withCSSVariables?: boolean;\n  children: React.ReactNode;\n  inherit?: boolean;\n}\n\nexport function MantineProvider({\n  theme,\n  emotionCache,\n  withNormalizeCSS = false,\n  withGlobalStyles = false,\n  withCSSVariables = false,\n  inherit = false,\n  children,\n}: MantineProviderProps) {\n  const ctx = useContext(MantineProviderContext);\n  const mergedTheme = mergeThemeWithFunctions(\n    DEFAULT_THEME,\n    inherit ? { ...ctx.theme, ...theme } : theme\n  );\n\n  return (\n    <ThemeProvider theme={mergedTheme}>\n      <MantineProviderContext.Provider value={{ theme: mergedTheme, emotionCache }}>\n        {withNormalizeCSS && <NormalizeCSS />}\n        {withGlobalStyles && <GlobalStyles theme={mergedTheme} />}\n        {withCSSVariables && <MantineCssVariables theme={mergedTheme} />}\n        {typeof mergedTheme.globalStyles === 'function' && (\n          <Global styles={mergedTheme.globalStyles(mergedTheme) as any} />\n        )}\n        {children}\n      </MantineProviderContext.Provider>\n    </ThemeProvider>\n  );\n}\n\nMantineProvider.displayName = '@mantine/core/MantineProvider';\n"],"names":["createContext","DEFAULT_THEME","useContext","filterProps","mergeThemeWithFunctions","React","ThemeProvider","NormalizeCSS","GlobalStyles","MantineCssVariables","Global"],"mappings":"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"}